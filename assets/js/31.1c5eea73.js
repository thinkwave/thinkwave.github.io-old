(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{513:function(s,e,a){"use strict";a.r(e);var r=a(4),t=Object(r.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"projection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#projection"}},[s._v("#")]),s._v(" Projection")]),s._v(" "),a("p",[s._v("select에서 가져올 칼럼을 지정하는 것을 프로젝션이라고 합니다. 여러개의 칼럼을 가져올 경우 Tuple 나 DTO 로 조회해야 합니다.")]),s._v(" "),a("h2",{attrs:{id:"칼럼을-하나만-가져오는-경우"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#칼럼을-하나만-가져오는-경우"}},[s._v("#")]),s._v(" 칼럼을 하나만 가져오는 경우")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("List<String> usernames = queryFactory\n    .select(user.username)\n    .from(user)\n    .fetch();\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"여러개의-칼럼을-가져오는-경우"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#여러개의-칼럼을-가져오는-경우"}},[s._v("#")]),s._v(" 여러개의 칼럼을 가져오는 경우")]),s._v(" "),a("p",[s._v("Querydls에서 제공하는 Tuple을 사용하는 경우 입니다.")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("List<Tuple> users = queryFactory\n    .select(user.username, user.age)\n    .from(user)\n    .fetch();\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("blockquote",[a("p",[s._v("Tuple에 담긴 데이터 가져오기")])]),s._v(" "),a("h2",{attrs:{id:"dto로-조회"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dto로-조회"}},[s._v("#")]),s._v(" DTO로 조회")]),s._v(" "),a("p",[s._v("프로퍼티, 필드, 생성자, @QueryProjection로 DTO로 데이터를 가져올 수 있습니다.")]),s._v(" "),a("h3",{attrs:{id:"_1-프로퍼티를-사용"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-프로퍼티를-사용"}},[s._v("#")]),s._v(" 1. 프로퍼티를 사용")]),s._v(" "),a("p",[s._v("Querydsl에서 프로퍼티를 사용하면 DTO객체를 기본생성자로 만들고 Setter로 칼럼과 대응되는 필드로 값을 설정해 줍니다.")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("List<UserDto> users = queryFactory\n    .select(Projections.bean(UserDto.class,\n        user.username,\n        user.age))\n    .from(user)\n    .fetch();\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"_2-필드를-사용"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-필드를-사용"}},[s._v("#")]),s._v(" 2. 필드를 사용")]),s._v(" "),a("p",[s._v("Querydsl에서 setter가 없어도 필드로 값을 주입해 줍니다.")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("List<UserDto> users = queryFactory\n    .select(Projections.fields(UserDto.class,\n        user.username,\n        user.age))\n    .from(user)\n    .fetch();\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"_3-생성자를-사용"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-생성자를-사용"}},[s._v("#")]),s._v(" 3. 생성자를 사용")]),s._v(" "),a("p",[s._v("DTO의 생성자로 객체를 생성하여 반환해 줍니다.")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("List<UserDto> users = queryFactory\n    .select(Projections.constructor(UserDto.class,\n        user.username,\n        user.age))\n    .from(user)\n    .fetch();\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"_4-queryprojection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-queryprojection"}},[s._v("#")]),s._v(" 4. @QueryProjection")]),s._v(" "),a("p",[s._v("DTO 클래스의 생성자에 @QueryProjection 어노테이션을 추가하여 Q이름DTO를 생성하여 사용합니다.")]),s._v(" "),a("h4",{attrs:{id:"userdto"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#userdto"}},[s._v("#")]),s._v(" UserDTO")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("@Data\n@NoArgsConstructor \npublic class UserDto { \n    private String username; \n    private int age; \n    \n    @QueryProjection \n    public MemberDto(String username, int age) { \n        this.username = username; \n        this.age = age; \n    } \n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h4",{attrs:{id:"queryprojection-사용"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#queryprojection-사용"}},[s._v("#")]),s._v(" QueryProjection 사용")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("List<UserDto> users = queryFactory\n    .select(new UserDto(user.username, user.age))\n    .from(user)\n    .fetch();\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);